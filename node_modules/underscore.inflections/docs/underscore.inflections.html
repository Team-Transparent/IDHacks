<!DOCTYPE html>  <html> <head>   <title>underscore.inflections.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               underscore.inflections.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p><strong>underscore.inflections</strong> is an <a href="http://underscorejs.org">underscore.js</a> mixin
that provides methods for inflection of words.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">Inflections</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Common uncountable words</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">defaultUncountables: </span><span class="p">[</span>
    <span class="s">&#39;equipment&#39;</span><span class="p">,</span> <span class="s">&#39;information&#39;</span><span class="p">,</span> <span class="s">&#39;rice&#39;</span><span class="p">,</span> <span class="s">&#39;money&#39;</span><span class="p">,</span> <span class="s">&#39;species&#39;</span><span class="p">,</span> <span class="s">&#39;series&#39;</span><span class="p">,</span>
    <span class="s">&#39;fish&#39;</span><span class="p">,</span> <span class="s">&#39;sheep&#39;</span><span class="p">,</span> <span class="s">&#39;jeans&#39;</span><span class="p">,</span> <span class="s">&#39;moose&#39;</span><span class="p">,</span> <span class="s">&#39;deer&#39;</span><span class="p">,</span> <span class="s">&#39;news&#39;</span>
  <span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Plural rules</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">defaultPluralRules: </span><span class="p">[</span>
    <span class="p">[</span><span class="sr">/$/</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/s$/i</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/^(ax|test)is$/i</span><span class="p">,</span> <span class="s">&#39;$1es&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(octop|vir)us$/i</span><span class="p">,</span> <span class="s">&#39;$1i&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(octop|vir)i$/i</span><span class="p">,</span> <span class="s">&#39;$1i&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(alias|status)$/i</span><span class="p">,</span> <span class="s">&#39;$1es&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(bu)s$/i</span><span class="p">,</span> <span class="s">&#39;$1ses&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(buffal|tomat)o$/i</span><span class="p">,</span> <span class="s">&#39;$1oes&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/([ti])um$/i</span><span class="p">,</span> <span class="s">&#39;$1a&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/([ti])a$/i</span><span class="p">,</span> <span class="s">&#39;$1a&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/sis$/i</span><span class="p">,</span> <span class="s">&#39;ses&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(?:([^f])fe|([lr])f)$/i</span><span class="p">,</span> <span class="s">&#39;$1$2ves&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(hive)$/i</span><span class="p">,</span> <span class="s">&#39;$1s&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/([^aeiouy]|qu)y$/i</span><span class="p">,</span> <span class="s">&#39;$1ies&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(x|ch|ss|sh)$/i</span><span class="p">,</span> <span class="s">&#39;$1es&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(matr|vert|ind)(?:ix|ex)$/i</span><span class="p">,</span> <span class="s">&#39;$1ices&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(m|l)ouse$/i</span><span class="p">,</span> <span class="s">&#39;$1ice&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(m|l)ice$/i</span><span class="p">,</span> <span class="s">&#39;$1ice&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/^(ox)$/i</span><span class="p">,</span> <span class="s">&#39;$1en&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/^(oxen)$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(quiz)$/i</span><span class="p">,</span> <span class="s">&#39;$1zes&#39;</span><span class="p">]</span>
  <span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Singular rules</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">defaultSingularRules: </span><span class="p">[</span>
    <span class="p">[</span><span class="sr">/s$/i</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(ss)$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(n)ews$/i</span><span class="p">,</span> <span class="s">&#39;$1ews&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/([ti])a$/i</span><span class="p">,</span> <span class="s">&#39;$1um&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i</span><span class="p">,</span> <span class="s">&#39;$1$2sis&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(^analy)(sis|ses)$/i</span><span class="p">,</span> <span class="s">&#39;$1sis&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/([^f])ves$/i</span><span class="p">,</span> <span class="s">&#39;$1fe&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(hive)s$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(tive)s$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/([lr])ves$/i</span><span class="p">,</span> <span class="s">&#39;$1f&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/([^aeiouy]|qu)ies$/i</span><span class="p">,</span> <span class="s">&#39;$1y&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(s)eries$/i</span><span class="p">,</span> <span class="s">&#39;$1eries&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(m)ovies$/i</span><span class="p">,</span> <span class="s">&#39;$1ovie&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(x|ch|ss|sh)es$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(m|l)ice$/i</span><span class="p">,</span> <span class="s">&#39;$1ouse&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(bus)(es)?$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(o)es$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(shoe)s$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(cris|test)(is|es)$/i</span><span class="p">,</span> <span class="s">&#39;$1is&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/^(a)x[ie]s$/i</span><span class="p">,</span> <span class="s">&#39;$1xis&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(octop|vir)(us|i)$/i</span><span class="p">,</span> <span class="s">&#39;$1us&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(alias|status)(es)?$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/^(ox)en/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(vert|ind)ices$/i</span><span class="p">,</span> <span class="s">&#39;$1ex&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(matr)ices$/i</span><span class="p">,</span> <span class="s">&#39;$1ix&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(quiz)zes$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="sr">/(database)s$/i</span><span class="p">,</span> <span class="s">&#39;$1&#39;</span><span class="p">]</span>
  <span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Irregular rules</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">defaultIrregularRules: </span><span class="p">[</span>
    <span class="p">[</span><span class="s">&#39;person&#39;</span><span class="p">,</span> <span class="s">&#39;people&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="s">&#39;man&#39;</span><span class="p">,</span> <span class="s">&#39;men&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="s">&#39;child&#39;</span><span class="p">,</span> <span class="s">&#39;children&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="s">&#39;sex&#39;</span><span class="p">,</span> <span class="s">&#39;sexes&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="s">&#39;move&#39;</span><span class="p">,</span> <span class="s">&#39;moves&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="s">&#39;cow&#39;</span><span class="p">,</span> <span class="s">&#39;kine&#39;</span><span class="p">]</span>
    <span class="p">[</span><span class="s">&#39;zombie&#39;</span><span class="p">,</span> <span class="s">&#39;zombies&#39;</span><span class="p">]</span>
  <span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Set up arrays and apply default rules</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">constructor: </span><span class="o">-&gt;</span>
    <span class="vi">@plurals = </span><span class="p">[]</span>
    <span class="vi">@singulars = </span><span class="p">[]</span>
    <span class="vi">@uncountables = </span><span class="p">[]</span>

    <span class="nx">@applyDefaultRules</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Apply all default rules</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">applyDefaultRules: </span><span class="o">=&gt;</span>
    <span class="nx">@applyDefaultUncountables</span><span class="p">()</span>
    <span class="nx">@applyDefaultPlurals</span><span class="p">()</span>
    <span class="nx">@applyDefaultSingulars</span><span class="p">()</span>
    <span class="nx">@applyDefaultIrregulars</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Apply rules for list of uncountables</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">applyDefaultUncountables: </span><span class="o">=&gt;</span> <span class="nx">@uncountable</span> <span class="nx">@defaultUncountables</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Apply rules for list of default plurals</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">applyDefaultPlurals: </span><span class="o">=&gt;</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">each</span> <span class="nx">@defaultPluralRules</span><span class="p">,</span> <span class="p">(</span><span class="nx">rule</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="p">[</span><span class="nx">regex</span><span class="p">,</span> <span class="nx">capture</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rule</span>
      <span class="nx">@plural</span> <span class="nx">regex</span><span class="p">,</span> <span class="nx">capture</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Apply rules for list of default singulars</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">applyDefaultSingulars: </span><span class="o">-&gt;</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">each</span> <span class="nx">@defaultSingularRules</span><span class="p">,</span> <span class="p">(</span><span class="nx">rule</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="p">[</span><span class="nx">regex</span><span class="p">,</span> <span class="nx">capture</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rule</span>
      <span class="nx">@singular</span> <span class="nx">regex</span><span class="p">,</span> <span class="nx">capture</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Apply rules for list of default irregulars</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">applyDefaultIrregulars: </span><span class="o">-&gt;</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">each</span> <span class="nx">@defaultIrregularRules</span><span class="p">,</span> <span class="p">(</span><span class="nx">rule</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="p">[</span><span class="nx">singular</span><span class="p">,</span> <span class="nx">plural</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rule</span>
      <span class="nx">@irregular</span> <span class="nx">singular</span><span class="p">,</span> <span class="nx">plural</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Specifies a new pluralization rule and its replacement. The rule can either be a string or a regular expression.
The replacement should always be a string that may include references to the matched data from the rule.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">plural: </span><span class="p">(</span><span class="nx">rule</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">delete</span> <span class="nx">@uncountables</span><span class="p">[</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">@uncountables</span><span class="p">,</span> <span class="nx">rule</span><span class="p">)]</span> <span class="k">if</span> <span class="k">typeof</span> <span class="nx">rule</span> <span class="o">is</span> <span class="s">&#39;string&#39;</span>
    <span class="k">delete</span> <span class="nx">@uncountables</span><span class="p">[</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">@uncountables</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">)]</span>
    <span class="nx">@plurals</span><span class="p">.</span><span class="nx">unshift</span> <span class="p">[</span><span class="nx">rule</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Specifies a new singularization rule and its replacement. The rule can either be a string or a regular expression.
The replacement should always be a string that may include references to the matched data from the rule.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">singular: </span><span class="p">(</span><span class="nx">rule</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">delete</span> <span class="nx">@uncountables</span><span class="p">[</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">@uncountables</span><span class="p">,</span> <span class="nx">rule</span><span class="p">)]</span> <span class="k">if</span> <span class="k">typeof</span> <span class="nx">rule</span> <span class="o">is</span> <span class="s">&#39;string&#39;</span>
    <span class="k">delete</span> <span class="nx">@uncountables</span><span class="p">[</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">@uncountables</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">)]</span>
    <span class="nx">@singulars</span><span class="p">.</span><span class="nx">unshift</span> <span class="p">[</span><span class="nx">rule</span><span class="p">,</span> <span class="nx">replacement</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Specifies a new irregular that applies to both pluralization and singularization at the same time. This can only be used
for strings, not regular expressions. You simply pass the irregular in singular and plural form.</p>

<p>Examples:</p>

<pre><code>_.irregular('octopus', 'octopi')
_.irregular('person', 'people')
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">irregular: </span><span class="p">(</span><span class="nx">singular</span><span class="p">,</span> <span class="nx">plural</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="k">delete</span> <span class="nx">@uncountables</span><span class="p">[</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">@uncountables</span><span class="p">,</span> <span class="nx">singular</span><span class="p">)]</span>
    <span class="k">delete</span> <span class="nx">@uncountables</span><span class="p">[</span><span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">@uncountables</span><span class="p">,</span> <span class="nx">plural</span><span class="p">)]</span>
    <span class="k">if</span> <span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">is</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span>
      <span class="nx">@plural</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;(</span><span class="si">#{</span><span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s">)</span><span class="si">#{</span><span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="s">&#39;$1&#39;</span> <span class="o">+</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span>
      <span class="nx">@plural</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;(</span><span class="si">#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s">)</span><span class="si">#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="s">&#39;$1&#39;</span> <span class="o">+</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span>
      <span class="nx">@singular</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;(</span><span class="si">#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s">)</span><span class="si">#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="s">&#39;$1&#39;</span> <span class="o">+</span> <span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span>
    <span class="k">else</span>
      <span class="nx">@plural</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}#{</span><span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span>
      <span class="nx">@plural</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}#{</span><span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span>
      <span class="nx">@plural</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span>
      <span class="nx">@plural</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span>
      <span class="nx">@singular</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span>
      <span class="nx">@singular</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="si">}#{</span><span class="nx">plural</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="si">}</span><span class="s">$&quot;</span><span class="p">,</span> <span class="s">&quot;i&quot;</span><span class="p">),</span> <span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nx">singular</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">plural</span><span class="p">.</span><span class="nx">length</span><span class="p">))</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Add uncountable words that shouldn't be attempted inflected.</p>

<p>Examples:</p>

<pre><code>_.uncountable("money")
_.uncountable("money", "information")
_.uncountable(["money", "information", "rice"])
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">uncountable: </span><span class="p">(</span><span class="nx">words</span><span class="p">...)</span> <span class="o">=&gt;</span>
    <span class="nx">@uncountables</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">words</span><span class="p">)</span>
    <span class="vi">@uncountables = </span><span class="nx">_</span><span class="p">.</span><span class="nx">flatten</span> <span class="nx">@uncountables</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Clears the loaded inflections within a given scope (default is <code>'all'</code>).
Give the scope as a symbol of the inflection type, the options are: <code>'plurals'</code>,
<code>'singulars'</code>, <code>'uncountables'</code>, <code>'humans'</code>.</p>

<p>Examples:</p>

<pre><code>_.clearInflections('all')
_.clearInflections('plurals')
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">clearInflections: </span><span class="p">(</span><span class="nv">scope = </span><span class="s">&#39;all&#39;</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="nx">@</span><span class="p">[</span><span class="nx">scope</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Pluralizes a word</p>

<p>Examples:</p>

<pre><code>_.pluralize('')
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">pluralize: </span><span class="p">(</span><span class="nx">word</span><span class="p">,</span> <span class="nx">count</span><span class="p">,</span> <span class="nv">options = </span><span class="p">{})</span> <span class="o">=&gt;</span>
    <span class="nv">options = </span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span> <span class="p">{</span> <span class="nv">plural: </span><span class="kc">undefined</span><span class="p">,</span> <span class="nv">showNumber: </span><span class="kc">true</span> <span class="p">},</span> <span class="nx">options</span>

    <span class="k">if</span> <span class="nx">count</span> <span class="o">isnt</span> <span class="kc">undefined</span>
      <span class="nv">result = </span><span class="s">&quot;&quot;</span>
      <span class="nx">result</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">#{</span><span class="nx">count</span> <span class="o">?</span> <span class="mi">0</span><span class="si">}</span><span class="s"> &quot;</span> <span class="k">if</span> <span class="nx">options</span><span class="p">.</span><span class="nx">showNumber</span> <span class="o">is</span> <span class="kc">true</span>
      <span class="nx">result</span> <span class="o">+=</span> <span class="k">if</span> <span class="nx">count</span> <span class="o">is</span> <span class="mi">1</span> <span class="o">or</span> <span class="nx">count</span><span class="o">?</span><span class="p">.</span><span class="nx">toString</span><span class="o">?</span><span class="p">().</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^1(\.0+)?$/</span><span class="p">)</span> <span class="k">then</span> <span class="nx">word</span> <span class="k">else</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">plural</span> <span class="o">?</span> <span class="nx">@pluralize</span><span class="p">(</span><span class="nx">word</span><span class="p">))</span>
    <span class="k">else</span>
      <span class="nx">@apply_inflections</span><span class="p">(</span><span class="nx">word</span><span class="p">,</span> <span class="nx">@plurals</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Singularizes a word</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">singularize: </span><span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="nx">@apply_inflections</span><span class="p">(</span><span class="nx">word</span><span class="p">,</span> <span class="nx">@singulars</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Apple rules to a given word. If the last word fo the string is uncountable,
just return it. Otherwise, make the replacement and return that.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">apply_inflections: </span><span class="p">(</span><span class="nx">word</span><span class="p">,</span> <span class="nx">rules</span><span class="p">)</span> <span class="o">=&gt;</span>
    <span class="nv">result = </span><span class="nx">word</span>

    <span class="k">if</span> <span class="o">!</span><span class="nx">word</span> <span class="o">or</span> <span class="nx">_</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">@uncountables</span><span class="p">,</span> <span class="nx">result</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\b\w+$/</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">isnt</span> <span class="o">-</span><span class="mi">1</span>
      <span class="nx">result</span>
    <span class="k">else</span>
      <span class="k">for</span> <span class="nx">rule</span> <span class="k">in</span> <span class="nx">rules</span>
        <span class="p">[</span><span class="nx">regex</span><span class="p">,</span> <span class="nx">capture</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rule</span>
        <span class="k">if</span> <span class="nx">result</span><span class="p">.</span><span class="nx">match</span> <span class="nx">regex</span>
          <span class="nv">result = </span><span class="nx">result</span><span class="p">.</span><span class="nx">replace</span> <span class="nx">regex</span><span class="p">,</span> <span class="nx">capture</span>
          <span class="k">break</span>
      <span class="nx">result</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>Export to window or exports</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">root = </span><span class="nx">exports</span> <span class="o">?</span> <span class="nx">@</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Require underscore</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">_ = </span><span class="nx">root</span><span class="p">.</span><span class="nx">_</span> <span class="o">or</span> <span class="nx">require</span> <span class="s">&#39;underscore&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Include Inflections as a mixin to underscore</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="k">typeof</span> <span class="nx">exports</span> <span class="o">is</span> <span class="s">&#39;undefined&#39;</span>
  <span class="nx">_</span><span class="p">.</span><span class="nx">mixin</span> <span class="k">new</span> <span class="nx">Inflections</span>
<span class="k">else</span>
  <span class="nv">module.exports = </span><span class="k">new</span> <span class="nx">Inflections</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 